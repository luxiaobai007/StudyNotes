[toc]



# HTTP协议

## 请求报文格式

第一部分：请求行（由请求方法、请求路径、请求协议/版本组成）
第二部分：请求头（从第二行至第N行，由键值对组成，Key:Value）
第三部分：空行（由回车换行组成）
第四部分：请求正文（请求消息体）

## 常见请求头含义

1、User-Agent：告诉服务器客户端的相关信息（如果是浏览器会有版本，内核等信息）
2、referer：告诉服务器，此请求是从哪个页面上发出来 (防盗链)
3、 X-Requested-With：告诉服务器这个是一个ajax请求
4、Cookie：带给服务器的cookie信息
5、content-type：告诉服务器消息体的数据类型

## HTTP响应报文

响应报文格式：四个部分组成
第一部分：状态行，独占一行。由协议/协议的版本、状
态码、状态描述符组成
第二部分：响应头，从第二行到第N行。由键值对组
成。
第三部分：空行。独占一行的。由回车换行组成。
第四部分：响应的正文



## 常见响应头含义

1、location：告诉浏览器跳到哪里
2、content-length：告诉浏览器回送数据的长度
3、content-type：告诉浏览器回送数据的类型



## **常见的HTTP相应状态码**

返回的状态
1xx：指示信息--表示请求已接收，继续处理
2xx：成功--表示请求已被成功接收、理解、接受
3xx：重定向--要完成请求必须进行更进一步的操作
4xx：客户端错误--请求有语法错误或请求无法实现
5xx：服务器端错误--服务器未能实现合法的请求

200：请求被正常处理

204：请求被受理但没有资源可以返回
206：客户端只是请求资源的一部分，服务器只对请求的部分资源执行GET方法，相应报文中通过Content-Range指定范围的资源。

301：永久性重定向
302：临时重定向
303：与302状态码有相似功能，只是它希望客户端在请求一个URI的时候，能通过GET方法重定向到另一个URI上
304：发送附带条件的请求时，条件不满足时返回，与重定向无关
307：临时重定向，与302类似，只是强制要求使用POST方法

400：请求报文语法有误，服务器无法识别
401：请求需要认证
403：请求的对应资源禁止被访问
404：服务器无法找到对应资源
500：服务器内部错误
503：服务器正忙



## 常见HTTP首部字段

### a、通用首部字段（请求报文与响应报文都会使用的首部字段）

Date：创建报文时间
Connection：连接的管理
Cache-Control：缓存的控制
Transfer-Encoding：报文主体的传输编码方式

### b、请求首部字段（请求报文会使用的首部字段）  

Host：请求资源所在服务器
Accept：可处理的媒体类型
Accept-Charset：可接收的字符集
Accept-Encoding：可接受的内容编码
Accept-Language：可接受的自然语言

### c、响应首部字段（响应报文会使用的首部字段）

Accept-Ranges：可接受的字节范围
Location：令客户端重新定向到的URI
Server：HTTP服务器的安装信息

### d、实体首部字段（请求报文与响应报文的的实体部分使用的首部字段）

Allow：资源可支持的HTTP方法
Content-Type：实体主类的类型
Content-Encoding：实体主体适用的编码方式
Content-Language：实体主体的自然语言
Content-Length：实体主体的的字节数
Content-Range：实体主体的位置范围，一般用于发出部分请求时使用



## HTTP的缺点与HTTPS

a、通信使用明文不加密，内容可能被窃听
b、不验证通信方身份，可能遭到伪装
c、无法验证报文完整性，可能被篡改

HTTPS就是HTTP加上加密处理（一般是SSL安全通信线路）+认证+完整性保护



## HTTP优化

利用负载均衡优化和加速HTTP应用

利用HTTP Cache来优化网站









# HTTP和webSocket



## 啥时候用HTTP,啥时候用webSocket































#### 资源链接

[1]: https://blog.csdn.net/qq_36035589/article/details/114090259

