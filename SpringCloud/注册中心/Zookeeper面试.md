---
Zookeeper面试真题
---

[toc]

----

### 选举机制

==半数机制，超过半数的投票通过，即通过==

1. 第一次启动选举规则：

   投票过半数时，服务器 id 大的胜出

2. 第二次启动选举规则：

   ①EPOCH 大的直接胜出

   ②EPOCH 相同，事务 id 大的胜出

   ③事务 id 相同，服务器 id 大的胜出



### 生产集群安装多少个zk合适

安装奇数台。

生产经验：

⚫ 10 台服务器：3 台 zk； 

⚫ 20 台服务器：5 台 zk； 

⚫ 100 台服务器：11 台 zk； 

⚫ 200 台服务器：11 台 zk

服务器台数多：好处，提高可靠性；坏处：提高通信延时